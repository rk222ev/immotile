<!doctype html><html><head><meta charset="UTF-8" /><meta content="ie=edge" http-equiv="x-ua-compatible" /><meta content="default-src https:; font-src https://cdn.rawgit.com; script-src &apos;self&apos;" http-equiv="Content-Security-Policy" /><meta content="" name="description" /><meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport" /><title>Immotile - Manual</title><link href="https://cdn.rawgit.com/dreampulse/computer-modern-web-font/master/fonts.css" rel="stylesheet" type="text/css" /><link href="default.css" rel="stylesheet" type="text/css" /></head><body><div id="wrap"><div id="header"><h1><a href="index.html">Immotile</a></h1><div id="navigation"><ul><li><a href="manual.html">Manual</a></li><li><a href="getting-started.html">Getting started</a></li><li><a href="https://www.github.com/rpkarlsson/immotile">Github</a></li></ul></div></div><div class="content"></div><h1>Manual</h1><div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgf860862">Tradeoffs</a></li>
<li><a href="#orgd06f4da">Clojure</a>
<ul>
<li><a href="#org9087fd4">Example .clj page</a></li>
</ul>
</li>
<li><a href="#org4f45df3">Clojurescript</a></li>
<li><a href="#orgcd1f17c">Org mode</a></li>
<li><a href="#org0cb9665">Posts</a></li>
<li><a href="#orgb4b0e45">Style</a></li>
<li><a href="#org57e9060">Starting the development server</a></li>
<li><a href="#org31903b4">Building for production</a></li>
</ul>
</div>
</div>

<div id="outline-container-orgf860862" class="outline-2">
<h2 id="orgf860862">Tradeoffs</h2>
<div class="outline-text-2" id="text-orgf860862">
<p>
   Immotile is not quick. Using Emacs to generate html takes time. So the initial
and production builds are slow. Hopefully that is compensated with auto- and hot reloading
changes after this.
</p>
</div>
</div>


<div id="outline-container-orgd06f4da" class="outline-2">
<h2 id="orgd06f4da">Clojure</h2>
<div class="outline-text-2" id="text-orgd06f4da">
<p>
   Used by naminghe a file <code>.clj</code>. Works just like regular Clojure. Require any additional
dependencies from the classpath with: <code>(require '[clojure.string :as str])</code>.
Should provide a anonymous function that given a <code>data</code> map returns one element using
hiccup.
</p>
</div>

<div id="outline-container-org9087fd4" class="outline-3">
<h3 id="org9087fd4">Example .clj page</h3>
<div class="outline-text-3" id="text-org9087fd4">
<pre class="example">
# (require '[clojure.string :as str])
(fn [data]
  [:div
    [:p (str "Some text in the paragraph "
	     "built using clojure."]]
    [:p (str/join " - " ["a" "b" "c"])]])
</pre>
</div>
</div>
</div>


<div id="outline-container-org4f45df3" class="outline-2">
<h2 id="org4f45df3">Clojurescript</h2>
<div class="outline-text-2" id="text-org4f45df3">
<p>
   Place your Clojurescript source files inside the cljs folder inside the folder chosen as <code>:out</code> in
the config.
To prevent adding a new eventlistener every time Figwheel regenerates the Cljs code
create a initializier ns:
</p>

<pre class="example">
(ns ^:figwheel-no-load example.core))

;; Mutate the DOM and do other stuff thats stateful.
</pre>

<p>
Otherwise Clojurescript works as usual.
</p>
</div>
</div>


<div id="outline-container-orgcd1f17c" class="outline-2">
<h2 id="orgcd1f17c">Org mode</h2>
<div class="outline-text-2" id="text-orgcd1f17c">
<p>
   Files are generated using Emacs so it needs to be on your <code>$Path</code>. Should support all the
usual org mode functionality that's available when exporting from Emacs.
Won't get any of the page parameters so should be used for pages/posts thats unaware
of the rest of the website.
</p>
</div>
</div>


<div id="outline-container-org0cb9665" class="outline-2">
<h2 id="org0cb9665">Posts</h2>
<div class="outline-text-2" id="text-org0cb9665">
<p>
Needs to have a date and a title attached to the meta. Should return the following:
</p>
<pre class="example">
{:body "String of HTML"
 :title "The name of the post"
 :date "Date of writing the post"}
</pre>
</div>
</div>


<div id="outline-container-orgb4b0e45" class="outline-2">
<h2 id="orgb4b0e45">Style</h2>
<div class="outline-text-2" id="text-orgb4b0e45">
<p>
Add a <code>.css</code> file to the <code>source/public</code> folder, will be moved to the root of the build.
</p>

<p>
<code>source/public/default.css</code> will be available as <code>:href "default.css"</code>.
</p>
</div>
</div>


<div id="outline-container-org57e9060" class="outline-2">
<h2 id="org57e9060">Starting the development server</h2>
<div class="outline-text-2" id="text-org57e9060">
<p>
Invoke immotile.core/-main with <code>dev</code> as the argument.
</p>

<pre class="example">
$ clj -m immotile.core dev

# If using Java 9
$ clj -J--add-modules -Jjava.xml.bind -m immotile.core dev
</pre>
</div>
</div>


<div id="outline-container-org31903b4" class="outline-2">
<h2 id="org31903b4">Building for production</h2>
<div class="outline-text-2" id="text-org31903b4">
<p>
Invoke immotile.core/-main with <code>build-prod</code> as the argument.
</p>

<pre class="example">
$ clj -m immotile.core build-prod

# If using Java 9
$ clj -J--add-modules -Jjava.xml.bind -m immotile.core build-prod
</pre>
</div>
</div>
<script src="js/example.js"></script></div></body></html>